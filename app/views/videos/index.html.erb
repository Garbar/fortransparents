<% breadcrumb :videos %>
<% provide(:title, 'All videos') %>
<div class="container">
  <div class="row">
    <!-- Latest Posts -->
    <main class="posts-listing col-lg-8"> 
      <div class="container">
        <div class="row">
          <!-- post -->
          <% @videos.each do |video| %>
          <div class="post col-xl-12">
            <div class="post-details">            
              <div class="post-meta d-flex justify-content-between">
                <div class="date meta-last"><%= video.published_at.strftime('%d %B | %Y') %></div>
              </div>
              <%= link_to(video) do %>
                <h3 class="h4"><%= video.title %></h3>
              <% end %>
              <p class="text-muted"><%= video.description %></p>
                          <div class="post-body">
            <style>.embed-container { position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; max-width: 100%; } .embed-container iframe, .embed-container object, .embed-container embed { position: absolute; top: 0; left: 0; width: 100%; height: 100%; }</style>
            <div class='embed-container'><iframe src='https://www.youtube.com/embed/<%= video.code %>' frameborder='0' allowfullscreen></iframe></div>  
            </div>
              <footer class="post-footer d-flex align-items-center">
                <% if  video.author %>
                  <div class="avatar"><%= image_tag(video.author.avatar_url, class: "img-fluid") %></div>
                  <div class="title"><span><%= video.author.name %></span></div>
                <% end %>
                <div class="date"><i class="icon-clock"></i><%= timeago_tag video.published_at, :nojs => true, :limit => 10.days.ago %></div>             
              </footer>
            </div>
          </div>
            <% end %>
        </div>
        <!-- Pagination -->
        <%= paginate @videos %>
      </div>
    </main>
    <%= render partial: "shared/sidebar" %>
  </div>
</div>